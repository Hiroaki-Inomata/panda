2006-11-02  Noboru Saitou  <noborus@netlab.jp>

	* Merge from r_1_2_branch.

2006-10-26  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/HTClex.h (SIZE_SYMBOL): 文字列長を1024byteにした

2006-10-24  Noboru Saitou  <noborus@netlab.jp>

	* Ver 1.2.8 release

2006-10-20  Noboru Saitou  <noborus@netlab.jp>

	* glclient/bd_config.c, bootdialog.c: '~/'を HOME に変換するようにした

2006-10-18  Noboru Saitou  <noborus@netlab.jp>

	* glclient/dialogs.c, glclient/client.c, glclient/protocol.c: 
	エラーダイアログのサポート

	* glclient/bootdialog.c, glclient/client.c: pkcs12形式も使用できるので
	表示修正
	* glclient/bootdialog.c: file_selection のキャンセルの動作の追加	
2006-10-17  Noboru Saitou  <noborus@netlab.jp>

	* libs/blob_v1.c, libs/blobup.c: syslog対応

	* aps/dbstub_main.c(main): dbstubのモジュール名を出力するようにした

	* pgserver/pgserver.c, pgserver/server.c: syslog対応

2006-08-09  Noboru Saitou  <noborus@netlab.jp>

	* fdd/fdd.c: SIGCHLD が SIG_IGNされていたのを削除

2006-08-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/cgi.h (SIZE_LARGE_BUFF): 固定長バッファの大きくした

2006-06-20  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/eruby.c (DataProcess): eRubyプロセスのタイムアウト設定

	* aps/aps_main.c (main): SIGUSR2をプロセスの生存確認に使えるように、
	明示的にSIG_IGNにした

	* dbstuff/dbredirector.c (InitSystem): SIGUSR2をプロセスの生存確認
	に使えるように、明示的にSIG_IGNにした

	* libs/applications.c (ApplicationsCall): アプリケーションが処理失
	敗した時には「再送」にする

	* htserver/server.c (SendWindowName): WindowDataの初期化をここで行
	うことをやめた

	* libs/panda.c (RecvPanda): wfcからデータ受信の前にWindowDataを初
	期化するようにした。これは「再送」を正しく動作させるため

2006-06-19  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/monitor.c: '-wait'をやめ'-interval'にした。環境によっては
	'-wait'を何かが食うため

2006-06-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/mon.c (SendEvent): イベント解析前にeRubyを実行するようにした

	* wfc/termthread.c (RemoveThread): 領域開放を別スレッドにした

2006-06-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c (_Variable): 画面に値を保存するタグ(VAR)

2006-06-14  Noboru Saitou  <noborus@netlab.jp>

	* aps/MCPSUB, aps/MONFUNC: ctrl.rcを返すように変更

	* glclient/action.c (_UpdateWidget): 必要なときのみResetTimerが掛
	かるようにした

2006-06-14  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/cgi.c (PutHTML): メッセージコードの送信

	* htserver/mon.c (Session): メッセージコードの設定

2006-06-12  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in: current versionを1.3.0にした(まだリリースしない)

2006-06-11  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/termthread.c : SessionDataをファイルに置くようにし、メモリは
	キャッシュになるようにした。またセションとコネクションを分離した

	* libs/driver.c (SaveScreenData): セション変数をファイルに保存するようにした

	* libs/panda.c (pandaMain): セションとコネクションを分離した

2006-06-10  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/applications.c (ApplicationsCall): アプリケーション終了時の
	処理を記述できるようにした

	* htserver/server.c: multi thread workerをやめた(無理)

	* libs/wfcio.c (SendTermServer): 端末名を送るようにした

	* wfc/termthread.c (ReadTerminal): 端末データベースを使うようにした

2006-06-09  Noboru Saitou  <noborus@netlab.jp>

	* glclient/widgetOPS.c (RecvURI): pandahtmlにURIを指定できるように
	した

2006-06-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/server.c: multi thread worker

2006-06-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c (MessageThread): LDを持たない画面に遷移した時はセ
	ションを終了させる

	* htserver/mon.c (Session): htserverに接続できない時はbusy画面を出
	力する

	* htserver/tags.c (_Htc): Javascriptを明示的に止める機能

2006-06-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/mon.c (Session): 明示的にアプリケーションを脱ける処理

	* aps/aps_main.c (ExecuteServer): connection lost時の再接続

	* libs/wfcio.c: wfcとの通信エラーを正しく回収するようにした

2006-05-31  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/monitor.c (ProcessMonitor): wfcやdbredirectorが落ちても再
	起動する機能をつけた

2006-05-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/aps_main.c: 処理時間計測

2006-05-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Makefile.am (defaults.h): デフォルトのプラグインロードパスを変更
	した(debの生成に合わせやすくした)

2006-05-27  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/makefont.c: フォント代替画像を生成するプログラムを作っ
	た

	* htserver/exec.c (EmitChar): 代替画像の位置を文字の高さに合わせた

2006-05-20  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/dbgroup.c (ExecFunction): ハンドラの初期化を直した

2006-05-19  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/Oseki.c: 全文検索エンジンOseki/Search用のハンドラを正しく
	動くようにした

2006-05-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/dbgroup.c (GetDB_Host): PostgreSQL.cからここに(汎用なので)

2006-05-14  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DBparser.c (DB_Parser): PathやOperationをparseするかどうか
	フラグを定義した

2006-05-06  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DIparser.c (BuildMcpArea): private.indexが不要そうなので消
	した(もしかしたら必要かも知れないので、コメントアウトのみ)

2006-05-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* include/wfcdata.h: puttypeをbyteにした。0〜9では値が足りなくなっ
	たため

	* libs/DIparser.c (BuildMcpArea): mcp.private.pputtypeの型をintに
	した。↑のため。

	* htserver/tags.c (JslibInit): 「戻る」後のイベント送信を可能にした

2006-05-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/exec.c (EmitChar): 外字をグラフィックに変換する処理を追
	加(テスト未)

2006-05-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/driver.h: WindowDataで画面名とレコード名が同じという仮定を
	やめた

2006-05-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DBparser.c (ParDBOperation), dblib/dbgroup.c: .dbにデータベー
	ス処理のoperationが登録できるようにした

2006-04-30  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/DBRuby.c: DBハンドラとしてRubyの手続きが呼び出せるようにし
	た

2006-04-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/PostgreSQL.c (ExecPGSQL): 余分な引数を削った

2006-04-27  Masami Ogoshi  <ogochan@nurs.or.jp>

	* samples/web/file.htc: ファイルのアップ／ダウンのサンプル追加

2006-04-26  Masami Ogoshi  <ogochan@nurs.or.jp>

	* include/wfcdata.h: 画面領域をハッシュに保存するようにした。この
	ため、LDが変わっても画面データが消失することがなくなる(代わりにメ
	モリを食うが結局は同じこと)

2006-04-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/directory.c (RegistDBG): DBスクリプトの制御のため、dbgroup
	処理時にDBハンドラを読み込むようにした。このためdirectory処理する
	全てのプログラムがexport-dynamicが必要となった
	(EnterDB_Function): DBスクリプトの種別を指定するようにした

	* libs/LDparser.c (GetWindow): 画面用レコード域はシステムで単一に
	した(コンポーネント化とメモリ節約のため)

	* wfc/termthread.c (ReadTerminal): 同一画面でLDが混在する場合、発
	生するイベントによってイベントを配送するLDを切り替えるようにした

	* wfc/corethread.c (ChangeLD): LDが変わっても画面データは極力保持
	するようにした

	* libs/LDparser.h: LD_Tableを消した(不要になった)

2006-04-22  Masami Ogoshi  <ogochan@nurs.or.jp>

	* include/struct.h, libs/DIparser.c : windowとbindの兼用をやめた
	(コンポーネント化によって1対1対応が仮定できなくなるため)

	* aps/Ruby.c, aps/C.c: コンポーネント化に対応

2006-04-20  Noboru Saitou  <noborus@netlab.jp>

	* aps/aps_main.c: 異常終了時に再起動するように終了コードの変更

2006-04-19  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c (MessageThread), aps/handler.c (CallAfter): コン
	ポーネント用の処理

	* include/glterm.h (SCREEN_RETURN_COMPONENT): コンポーネント用のフラ
	グ追加

2006-04-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/HTCparser.c: '/'の処理を正しくした

2006-04-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in: ERubyの使用をフラグにした

	* aps/OpenCOBOL.c (_ReadyExecute), aps/Ruby.c (ready_execute),
	aps/Exec.c (_ReadyExecute): アプリケーションのロードパスのデ
	フォルト設定に対応した

	* aps/handler.c, libs/BDparser.c: アプリケーションのロードパスのデ
	フォルトと、アプリケーションハンドラのパスをBD中で設定可能にした

	* aps/handler.c, libs/LDparser.c: アプリケーションのロードパスのデ
	フォルトと、アプリケーションハンドラのパスをLD中で設定可能にした

	* aps/C.c (_ReadyExecute): アプリケーションのロードパスのデフォル
	トを設定可能にした

	* libs/DIparser.c, dblib/dbgroup.c (InitDBG): DBハンドラモジュール
	のパスをdirectory中で設定可能にした

	* libs/DIparser.c, tools/monitor.c: aps, wfc, dbredirectorのパスを
	directory中で定義設定にした

2006-04-14  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/driver.h, libs/driver.c (NewScreenData): cmdが無駄に大きい
	ので小さくした

2006-04-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/eruby.c (DataProcess): 終了処理を正しくした

2006-04-11  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/cgi.c (GetHostValue): ホストに変数がない時は変数名を値
	にするようにした(基本的には安全網。また内部変数の参照の時はこうなっ
	ていないと困る)

2006-04-10  Noboru Saitou  <noborus@netlab.jp>

 	* dblib/redirect.h, dblib/redirect.c, dbstuff/dbredirector.c: 
	チェックデータの送信方法の変更

2006-04-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/rhtc.c: erubyの論理を変えた。別ファイルにした

2006-04-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c (Style): スタイル系属性全部が使えるようにした(ただしnameは除く)

2006-04-07  Noboru Saitou  <noborus@netlab.jp>

	* glclient/action.c, glclient/callbacks.c: イベントクリア時にイベント
	を受け取らないように変更

	* aps/aps_main.c: Window not found のときは異常終了にする

2006-04-06  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c (TagsInit): bodyタグにonLoad

	* htserver/HTCparser.c (HTCParseRHTCFile): erubyを組み込んだ

2006-04-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/htc.c: Lex.cを使うのをやめた

2006-03-30  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/exec.h (OPC_EVAL): OPC_NAMEから名称変更(実際に動作に合わせた)

2006-03-23  Noboru Saitou  <noborus@netlab.jp>

	* Merge from ssl_client_branch.
	
	2006-03-06  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* glserver/server.c (ExecuteServer): 認証スキームがSSLでないときは、
		クライアント証明書を要求しないように修正。

	2006-03-06  GOTOU Yuuzou  <gotoyuzo@netlab.jp>
	
	* libs/net.c (MakeSSL_CTX): 証明書をPKCS#12として読み込むことを試みる。
		失敗した場合は従来通りPEMとして読み込む。

	2006-02-18  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* libs/auth.c (AuthAddX509): 追加するサブジェクトのフォーマットの
	チェックを追加。

	2006-02-18  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* libs/auth.c (AuthLoadX509): ファイル中に形式の不正なレコードが
		あるときはFALSEを返す。

	* auth/user.c (ssl_main): ファイルの読み込みがエラーになったときは、
		ファイルを変更せずに終了する。

	2006-02-15  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* libs/net.c (MakeSSL_CTX): 引数fVerifyを削除。SSL_VERIRY_PEERは
	必ずセットし、SSL_VERIFY_FAIL_IF_NO_PEER_CERTは使用しない。

	* glserver/server.c (ThisAuth): 認証スキームがsslのときに、
	クライアント証明書が送られていなければ、認証エラーとする。

	* fdd/fdd.c, fdd/fdw.c, glclient/client.c, glserver/glserver.c:
	-verifypeerオプションを削除。
	
	2006-02-10  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* libs/net.c (MakeSSL_CTX): CApathとCAfileが指定されていない時は、
	SSL_CTX_set_default_verify_pathsを呼ぶ。

	2006-01-17  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* libs/net.c (MakeSSL_CTX): 私有鍵が暗号化されていた場合に、入力された
	パスフレーズが誤っていたら、問い合わせる処理を追加。

	* libs/net.c (MakeSSL_CTX, passphrase_callback): 環境変数
	PANDA_ASKPASS にコマンドが指定されていたら、これを使ってパスワード
	を問い合わせる。指定するコマンドとしてssh-askpass(1)を想定する。

	2006-01-06  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* include/const.h: SIZE_PASSの不足を修正
	* libs/auth.c (AuthLoadPasswd, AuthSingle): 不正な形式のパスワード
	ファイルの読み込み時におけるbuffer overrunを修正
	* libs/driver.c (NewScreenData): strchrの戻り値を検査するように修正

	2005-12-21  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* auth/user.c: クライアント認証時のユーザ情報用オプションの追加

		-ssl          SSL認証用のパスワードファイルを作成する
		-subject      サブジェクトを指定する
		-cert         -subjectを指定しない場合に、
		              指定した証明書からサブジェクトを取り出す

	* glserver/srever.c (ThisAuth): クライアント認証が有効でかつ、
	"-auth ssl:/path/to/passwd" が指定されている場合に、証明書のサブジェ
	クトからユーザ?を取り出す処理を追加

	* libs/auth.c: クライアント認証時のユーザ情報を操作する関数を追加
	
		void AuthAddX509(const char *user, const char *subject);
		void AuthDelX509BySubject(const char *subject);
		void AuthDelX509(const char *user);
		void AuthClearX509(void);
		void AuthLoadX509(const char *file);
		void AuthSaveX509(const char *file);
		void AuthDumpX509(FILE *fp);
		Bool AuthX509(const char *subject, char *user);

	* libs/net.c (StartSSLClientSession): プロトタイプを変更
	
	* libs/net.c (GetSubjectFromCertificate): 証明書からサブジェクトを
	取り出す関数を追加
	
	* libs/net.c (CheckHostnameInCertificate): 接続先ホスト名が、
	localhost、127.0.0.1、::1 のいずれかの場合は常にTRUEを返すよう
	に修正

	2005-12-19  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* libs/net.c: SSL周りを再実装し以下の関数を追加
	
		SSL_CTX *MakeSSL_CTX(char *key, char *cert, char *cafile,
			char *capath, char *ciphers, Bool fVeri);
		char *GetCommonNameFromCertificate(X509 *cert);
		Bool CheckHostnameInCertificate(X509 *cert, const char *host);
		Bool StartSSLClientSession(NETFILE *fp, Port *port);
		Bool StartSSLServerSession(NETFILE *fp);
	
	* glclient/bootdialog.c: 証明書等のパスを gtk_file_selectionで選択
	できるようにした

	* glclient/client.c, glserver/glserver.c, fdd/fdd.c, fdd/fwd.c: 
	-ciphertsオプションを追加

2006-03-22  Noboru Saitou  <noborus@netlab.jp>

	* dblib/PostgreSQL.c (NoticeMessage): Notice メッセージをログに出す
	ようにした

	* dblib/dbgroup.h, dbstuff/dbredirector.c, tools/monitor.c: fNoSumCheck
	オプションの追加

2006-02-21  Noboru Saitou  <noborus@netlab.jp>

	* Ver 1.2.6 release

	* libs/enum.c, libs/enum.h, dblib/PostgreSQL.c : 接続エラー
	(MCP_BAD_CONN)の追加

	* dblib/dbroup.h: redirect.h からCloseDB_RedirectPort を移動

	* dbstuff/dbredirecor.c (ExecDB): 接続エラーの場合に再接続機能の追加

2006-02-17  Noboru Saitou  <noborus@netlab.jp>

	* tools/monitor.c (ProcessMonitor): dbredirector は再起動しないように
	変更

	* dblib/redirect.c (CommitDB_Redirect, SendCheckData_Redirect,
	SendQueryData_Redirect, RecvSTATUS_Redirect): dbredirector との
	接続チェックを追加

	* libs/DIparser.c, wfc/mqthread.c, aps/aps_main.c, apsio.c, handler.c:
	dbstatus の追加

	* dbstuff/dbredirector.c (CheckDBG, _CheckDBG): dbgroupのチェック追加
	(LogThread, FileThread, CheckRedirectData, WriteDB): 不整合チェック
	の追加
	(WriteLog, WriteLogQuery): ログフォーマットの変更
	(ReConnectDB, ConnectDB): DB再接続の仕様変更。DBに一定期間接続できな
	くてもよいようにした
	
	* dblib/PostgreSQL.c (_PQexec, IsRedirectQuery): 更新系のみ redirect
	するように変更
	(_PQsendQuery, _Exec): redirector は PQsendQuery,PQgetResult で
	処理するように変更

	* glclient/action.c (GrabFocus): GtkComboのためにもう一度 GrabFocus 
	が動作するようにした
	* glclient/action.c (StopTimer): 処理が重いのでフラグ制御にした
	
2006-02-16  Noboru Saitou  <noborus@netlab.jp>

	* dblib/PostgreSQL.c: CreateConninfo を_DBOPENから分けた

	* glclient/action.c (GrabFocus): 誤って消した _GrabFocus を戻した

	* include/struct.h, dblib/NativeBLOB.c, dblib/Oseki.c, 
	dblib/PostgreSQL.c, dblib/Shell.c, dblib/System.c,
	dblib/redirect.c, tools/monitor.c:  dbg->fConnectが状態を表すようにした

	* libs/net.c (ChecknetFile): fpのチェック追加
	
2006-02-13  Noboru Saitou  <noborus@netlab.jp>

	* glclient/callbacks.c: send_event のときに常に Timer を止める

2006-02-08  Noboru Saitou  <noborus@netlab.jp>

	* dblib/PostgreSQL.c: SQLキーワードを大文字に統一

2006-01-27  Noboru Saitou  <noborus@netlab.jp>

	* libs/panda.c: windowData のチェックを追加

	* dblib/PostgreSQL.c, dblib/Oseki.c: DBハンドラでは exit しないように
	変更

	* dblib/dbgroup.[ch], dblib/dblib.h, aps/aps_main.c aps/handler.[ch]:
	DBOPENのチェックを追加	

2006-01-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in: libmagicがない時にはそれなりの処理にするようにした

2006-01-18  Noboru Saitou  <noborus@netlab.jp>

	* libs/port.c (ParPort): 空文字はNULLとみなす
	* libs/port.c (StrinPort): port->type がNULLにも対応
	* glserver/pstopng: gs がゴミを出す場合があった
	
2006-01-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/HTCparser.c (ParTag): パーズのゴミを消した

2006-01-11  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/gnumerictorec.c: Gnumericの表に書かれたレコード設計書から、.
	recを生成するコマンドを作った(例はsamplesに置かれたgnumericファイル)

	* libs/enum.c: --disable-clientの時の誤りを直した

2006-01-10  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/gnumerictodb.c: Gnumericの表に書かれたDB設計書から、.dbを
	生成するコマンドを作った(例はsamplesに置かれたgnumericファイル)

2006-01-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* net.c (Send): バッファ処理の誤りを直した。通信エラー時の回収を確実にした

2006-01-06  GOTOU Yuuzou  <gotoyuzo@netlab.jp>

	* include/const.h: SIZE_PASSの不足を修正
	* libs/auth.c (AuthLoadPasswd, AuthSingle): 不正な形式のパスワード
	ファイル読み込み時におけるbuffer overrunを修正
	* libs/driver.c (NewScreenData): strchrの戻り値を検査するように修正
	
2005-12-20  Noboru Saitou  <noborus@netlab.jp>

	* rkey_buffer_branch をマージ
	* glclient/action.[ch], glclient/callbacks.c: タイマーイベントの
	ストップを画面遷移時に変更
	* glclient/action.c, glclient/callbacks.c: キーバッファクリアを
	再実装して、同一画面内ではキーバッファが効くようにした。
	* glclient/bootdialog.c: 「キーバッファを有効にする」項目の追加

2005-11-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/mon.c (ParseUserAgent): w3mの場合、Javascriptを無効にする

2005-10-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LDparser.c, libs/SQLparser.c, libs/BDparser.c, libs/DBparser.c, 
	  libs/DBDparser.c: エラーメッセージの変更

2005-10-13  Noboru Saitou  <noborus@netlab.jp>

	* Ver 1.2.5 release

2005-09-30  Noboru Saitou  <noborus@netlab.jp>

	* wfc/termthread.c (ReadTerminal): ReadTerminal では data->ld を変更
	しないように修正

2005-09-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/htcproc.c: -recordでrecの格納パスを指定できるようにした

2005-08-30  Masami Ogoshi  <ogochan@nurs.or.jp>

	* リンク時のワーニングを消した

2005-08-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* spa, link等のない場合への対応開始(テストはこれから)

	* libs/DDparser.c (ReadRecordDefine): 定義ファイルが存在しない時に
	は、NULLを返却するようにした

	* libs/Makefile.am: blob/を廃止してlibs/に統合した

	* ダイナミックライブラリをやめた

2005-07-06  Noboru Saitou  <noborus@netlab.jp>

	* dblib/PostgreSQL.c (CheckResult): エラー時に PQerrorMessage の
	メッセージを表示するようにした

2005-06-23  Masami Ogoshi  <ogochan@nurs.or.jp>

	* COPYING: 著作権表示を直す

2005-06-20  Noboru Saitou  <noborus@netlab.jp>

        * Ver 1.2.4 release

2005-06-14  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c (_Entry): 文字列を出力する時のエスケープをやめた

2005-06-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c (MessageThread): LDにまたがったウィンドウの時に正
	しく動くように修正

2005-06-01  Noboru Saitou  <noborus@netlab.jp>

	* glclient/protocol.c, glclient/widgetOPS.c (GL_RecvName): サイズを
	  指定するように変更
	
2005-04-14  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/exec.c (ExecCode): OPC_EMITSTRで空文字列の時に&nbsp;を
	出力しないようにした

	* htserver/exec.h: ValTypeをExprに統合

2005-04-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/exec.h : 冗長な命令を廃止

	* htserver/tags.c (ExpandAttributeString): 'で括った文字列に対応

	* tools/htcgen.xsl: GtkListの幅処理をstyleで対応するようにした

2005-04-07  Noboru Saitou  <noborus@netlab.jp>

	* glclient/protocol.c (GL_RecvString): サイズを指定するように変更
	* aps/apsio.c, auth/glauth.c, libs/wfcio.c, libs/authstub.c: 
	  RecvString を RecvnString に変更
	
2005-03-25  Noboru Saitou  <noborus@netlab.jp>

	* glserver/server.c, glserver/glcomm.c (GL_RecvString): サイズを
	  指定するように変更

2005-03-23  Noboru Saitou  <noborus@netlab.jp>

	* glclient/client.c: SSLの項目が空の時に値を渡さないように修正。
	  -verifypeer オプションの廃止

2005-03-17  Noboru Saitou  <noborus@netlab.jp>

	* libs/message.c: syslog対応追加

	* configure.in: --enable-syslog の追加

2005-03-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/mon.c: Javascriptを使わない動作を一部可能にした

	* htserver/HTCparser.c (CopyTag): 値を持たない属性の動くを正しくした

2005-03-11  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/comms.c (SendValueString): bug fix i18n

2005-03-10  Noboru Saitou  <noborus@netlab.jp>

	* glclient/bootdialog.c: 起動ダイアログに SSLの項目追加

2005-03-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* pgserver/server.c (MainLoop): 文字encodingの設定コマンド

2005-03-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/widgetOPS.c (SendScrolledWindow), (RecvScrolledWindow)
	  :  ScrolledWindowsの位置設定

2005-03-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/PostgreSQL.c (ExecPGSQL): vitrual DB時のmanglingを正しくし
	た

2005-03-02  Noboru Saitou  <noborus@netlab.jp>

	* glclient/fileEntry.c (SaveFile): fopenではなくopenで開くように変更
	  既にファイルがあった場合はパーミッションはそのままにした
	
2005-03-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/SQLparser.c (ParSQL): 構造がある場合に勝手なmanglingをやめ
	た(各DBハンドラにさせる)

2005-02-24  Noboru Saitou  <noborus@netlab.jp>

	* glclient/fileEntry.[ch]: GnomeFileEntry の動作を変更追加。
	  既にファイルがあった場合の確認追加
	* glclient/widgetOPS.c (RecvFileEntry): ファイルが送られてきたら
	  FileSelectionダイアログを開くように変更
	* glclient/dialogs.c (question_dialog): Yes/No の確認ダイアログ
	  の追加(GNOME ライブラリが必要)

2005-02-21  Noboru Saitou  <noborus@netlab.jp>

	* aps/OpenCOBOL.c aps/aps_main.c aps/handler.c glserver/glcomm.c
	  glserver/server.c libs/applications.c libs/authstub.c libs/load.c
	  libs/panda.c libs/wfcio.c: メッセージ形式の統一

	* libs/debug.h libs/message.c libs/message.h:
	  debug 関連のメッセージレベルの変更

2005-02-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/term.c (TermToHost): dblib/System.cから移動して新設

2005-02-16  Noboru Saitou  <noborus@netlab.jp>

	* glclient/dialogs.[ch]: (message_dialog) メッセージダイアログ追加
	* glclient/testdialogs.c: メッセージダイアログテスト追加
	* glclient/widgetOPS.c (RecvFileEntry): 結果をダイアログに出すようにした

2005-02-14  Noboru Saitou  <noborus@netlab.jp>

	* glclient/widgetOPS.c (RecvFileEntry): GnomeFileEntry support.

2005-02-08  Noboru Saitou  <noborus@netlab.jp>

	* glclient/widgetOPS.c (RecvPixmap): GnomePixmap support.

2005-01-26  Noboru Saitou  <noborus@netlab.jp>

	* glclient/action.c glclient/callbacks.[ch] glclient/protorol.c
	glclient/protocol.c glclient/widgetOPS.c libs/enum.c:
	  ENABLE_GNOME -> USE_GNOME

2005-01-23  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/htc.c: 変数名だけでなく式が書けるようにした

2005-01-20  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c (_Fixed): ニモニック変換をしないで出力するモード

2005-01-20  Hiromi Yamazaki  <hiromi@netlab.jp>

	* htserver/tags.c (_Calendar): デザイン変更のパラメータを増やした

	* htserver/exec.c (ExecCalendar): デザイン変更のパラメータを増やした

2005-01-15  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/Oseki.c: Oseki/searchハンドラ

2004-12-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c: ボタン系のonclickを正しく直した

2004-12-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c (JavaScriptEvent): 変数の参照を可能にした, aタグも処理するようにした

2004-10-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/PostgreSQL.c (_DBCLOSECURSOR): cursor closeのdefault

	* libs/DIparser.c (BuildMcpArea): mcprecの構造変更(文字列でのパス指定)

	* aps/C.c (MCP_ExecFunction): MakeCTRLbyNameを使うように

	* aps/handler.c (MakeCTRLbyName): 名前からパスを検索する

	* aps/MONFUNC.c: パス名を文字列で指定するCOBOL API

2004-10-19  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/handler.c (CallAfter): fromwinを正しくした

2004-10-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/client.c (SetDefault): veryfypeerをデフォルトにした

	* htserver/tags.c (_Button): stateの処理を正しくした
	(JavaScriptEvent): send_eventの扱い方を変えた
	(_Text): HTMLエディタの追加
	(EmitAttributeValue): Styleから呼び出された時の処理を正しくした
	(_Fixed): HTMLを無加工でそのまま出力する機能を追加

	* tools/htcgen.xsl: メニューバー対応

	* htserver/exec.c (ExecCode): 文字列比較命令、Javascript出力命令

2004-10-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/htctest.c: HTCをチェックするユーティリティ

2004-10-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/storage.c: tree allocation

2004-09-29  Noboru Saitou  <noborus@netlab.jp>

        * Ver 1.2.2 release

2004-09-27  Noboru Saitou  <noborus@netlab.jp>

	* glserver/glcomm.c 印刷プレビューにPDFサポートの追加
	* glserver/pstopng PS->PNG変換スクリプトを追加

2004-09-26  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/storage.c (SeekEntry): liner allocation read seek

2004-09-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/storage.c (SeekEntry): non liner allocation read seek

2004-09-23  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/storage.c: リニアアロケーション(seekの準備)

2004-09-20  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/page.c: よりrobustなトランザクションリカバリ

2004-09-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/storage.c: トランザクションリカバリ

2004-09-15  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/page.c: ロールバック

2004-09-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/blob_v2.c: BLOB全機能実装

2004-09-03  Noboru Saitou  <noborus@netlab.jp>

	* glclient/protocol.c: Send/Recv をチェックするようにした

2004-09-02  Noboru Saitou  <noborus@netlab.jp>

	* libs/Recv, libs/Send 失敗時には -1 を返すように変更

2004-08-31  Noboru Saitou  <noborus@netlab.jp>

	* ダイアログ再表示をしないように修正。

2004-08-25  Noboru Saitou <noborus@netlab.jp>

	* wfc/mqthread.c: 無効なapsを指定されたときにリソースを解放した

	* wfc/blobthread.c, wfc/controlthread.c, wfc/termthread.c:
	pthread_exit でリソースが解放されるように pthread_detach した  
	
2004-08-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c: LDが変わってもSPAを忘れないようにした

2004-08-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/blobreq.c, wfc/blobserv.c, blob/blob_v1.c : APIの整理

2004-08-10  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfcの初期化シーケンスの時にはSendStringDelim/RecvStringDelimを使
	うようにした

	* blob/blob_v1.c: 領域管理情報を変更した

	* blob/blob.c: BLOBのバージョンに配慮するようにした

2004-08-10  Kouji TAKAO  <kouji@netlab.jp>

	* configure.in (--with-ruby): Ruby-1.8を/usrや/usr/local以外にイン
	ストールしている場合に対応

	* tools/copygen.c (_COBOL): object型をPIC X(sizeof(MonObjectType))に修正

2004-08-09  Noboru Saitou <noborus@netlab.jp>

	* 不要なldを読み込まないようにした

2004-08-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/monitor.c: lddir/bbdir -> ddir

2004-08-05  Kouji TAKAO  <kouji@netlab.jp>

	* glserver/glcomm.c (ExpandFile): PSファイルの場合に正しいファイル
	名を返さないをバグ修正

	* configure.in: libmagicのチェックを追加

2004-08-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/glcomm.c (ExpandFile): PSファイルのon demand展開

2004-08-05  Kouji TAKAO  <kouji@netlab.jp>

	* aps/Ruby.c: 新しいobject型(longlong)に対応

	* glclient/widgetOPS.c (RecvPS): 一時ファイルをmkstemp(3)で作成し、
	load後に削除するように修正

2004-08-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/blob.c: MonObjectTypeをlonglongにした

2004-08-04  Kouji TAKAO  <kouji@netlab.jp>

	* aps/Ruby.c: object型対応

	* glclient/protocol.c (RecvBinaryData): バイナリデータを受けとり
	LBSにパックする関数を追加(GtkPandaPSのため)
	* glclient/widgetOPS.c (RecvPS): GtkPandaPS Widgetがサーバから送ら
	れてきたPSデータ(psdata)を処理できるように修正
	
	* dblib/NativeBLOB.c (_ImportBLOB): "object"の更新もれによるバグを修正

2004-08-03  Kouji TAKAO  <kouji@netlab.jp>

	* wfc/wfc.c (ExecuteServer): pselect(2)の引数のバグを修正

	* aps/Ruby.c: コンパイルワーニングの除去

2004-08-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/NativeBLOB.c: blob用のDBハンドラ

2004-07-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c (ReadyAPS): wfc -> aps接続のコードが残っていたの
	で削除

2004-07-23  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/server.c (ChildProcess): termの設定のタイミングを正しくした

2004-07-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/dbgroup.c: BLOBサポート

2004-07-18  Kouji TAKAO  <kouji@netlab.jp>

	* glclient/bootdialog.c: ラベルの日本語化

	* gettextizeをやめた。
	
2004-07-17  Kouji TAKAO  <kouji@netlab.jp>

	* tools/msgd.c (ExecuteServer): バグ修正

	* m4/*: 追加
	* bootstrap.sh: 削除
	* intl/*: 追加
	* Makefile.am: ほぼ全てのMakefile.amを編集し、make distcheckが通るようにした。

2004-07-15  gettextize  <bug-gnu-gettext@gnu.org>

	* glclient起動ダイアログのgettextize

2004-07-15  gettextize  <bug-gnu-gettext@gnu.org>

	* Makefile.am (ACLOCAL_AMFLAGS): New variable.
	(EXTRA_DIST): New variable.
	* configure.in (AC_OUTPUT): Add po/Makefile.in,

2004-07-15  Kouji TAKAO  <kouji@netlab.jp>

	* glclient/bootdialog.c: サーバプリセット移動機能を追加
	* glclient/bd_config.c (bd_config_move_section): セクション移動関数を追加

2004-07-14  Kouji TAKAO  <kouji@netlab.jp>

	* glclient/bootdialog.c: サーバプリセット削除機能を追加
	* glclient/bd_config.c (bd_config_remove_section): セクション削除関数を追加

	* glclient/bootdialog.c: サーバプリセット編集機能を追加
	
	* glclient/bootdialog.c: サーバプリセット作成機能を追加

	* glclient/bd_config.c (bd_config_section_set_string): 操作対象の
	エントリが存在しなければ作成するように変更

	* glclient/bootdialog.c: サーバプリセット一覧表示機能を追加

2004-07-13  Kouji TAKAO  <kouji@netlab.jp>

	サーバプリセット選択GUIを追加
	* glclient/bd_config.c
	* glclient/bd_config.h
	* glclient/bootdialog.c

2004-07-12  Kouji TAKAO  <kouji@netlab.jp>

	* glclient/bootdialog.c (boot_dialog_run): パーミッションが0600で
	なければダイアログを起動しないように修正。また、ダイアログの設定ファ
	イルのパーミッションを0600に変更。
	(boot_dialog_create_conf): 設定ファイルが存在しない場合に作成する
	関数を追加
	* glclient/bd_config.c (bd_config_save): 保存時にパーミッションを
	設定できるように修正
	(bd_config_permissions): 設定ファイルのパーミッションを取得する関
	数を追加

	* glclient/bootdialog.c (boot_dialog_run): gtk_grab_*を
	gtk_window_set_modalに変更

2004-07-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/Makefile.am : blob通信関数を整理

2004-07-09  Kouji TAKAO  <kouji@netlab.jp>

	* glclient/client.c (main): -dialogを指定されたときだけ繰り返しセッ
	ションを接続できるように修正

	glclientを全てのウィンドウを閉じたときに再度ダイアログを表示できる
	ように修正
	
	* glclient/widgetOPS.c (InitWidgetOperations): 複数回呼ぶことができるように修正
	* glclient/styleLex.c (StyleLexInit)

	* glclient/styleParser.c (StyleParserTerm): 終了処理をおこなう関数を追加
	* glclient/protocol.c (TermProtocol)

	* glclient/client.c (start_client): 繰り返しセッションを接続するた
	めにその処理を関数に変更。また、グローバル変数のfreeを実装。
	(main): ダイアログの表示、セッションの接続を繰り返すように修正
	(ExitSystem): exitしないように修正
	(show_boot_dialog): 接続/終了を返すように修正

	* glclient/bootdialog.c (boot_dialog_init): バグ修正
	
	起動ダイアログを追加
	* glclient/client.c (show_boot_dialog, main, SetDefault)
	* glclient/bd_config.c
	* glclient/bd_config.h
	* glclient/bootdialog.c

	* glclient/bootdialog.h

2004-07-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/styleParser.c (ParStyle): text, base, light, dark, mid
	に対応

2004-07-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* HTCparser.c (CopyTag): コメントのコピーを正しく行うようにした(で
	ないと、JavascriptやCSSで困るから)

2004-07-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/exec.c: VarTypeに型情報を付加した

	* htserver/tags.c (_Button): Javascriptを使うようにした。これでIE
	でも問題なく動くはず。
	(ExpandAttributeString): 内部変数の参照は$$にした

2004-07-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/HTCparser.c (ParTag): HTCタグでないものも属性に変数を指
	定可能にした

	* tools/htcgen.xsl: 強化(顧客管理システムはほぼ100%変換可能)

	* htserver/exec.c (ExecCode): 命令追加、JNZNPがdropするようにした

	* htserver/tags.c (TagsInit): optionmenu, option, selectの追加

2004-06-30  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c (_Button): buttonタグを使うようにした。IE5ではサ
	ポートがいい加減なので、USE_IE5がある時はinputのままになっている。

	* tools/htcgen2: Ver 2.0用htcgen

2004-06-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* blob/blob.c: blobのload/store

2004-06-29  Kouji TAKAO  <kouji@netlab.jp>

	* dblib/PostgreSQL.c (EscapeString, EscapeStringInArray) 
	(EscapeBytea, EscapeByteaInArray): LBSの最終操作位置を変更していな
	いバグを修正
	(ExecPGSQL): SQLの発行に使用したLBSをクリアしていないバグを修正

	* libs/SQLparser.c (SQL_Error): Errorマクロを改名し、可変長引数を
	取るように修正
	(ParSQL): 変数参照(:)のパース失敗時に変数名を表示するように修正
	添字が0以下と`['だけの場合にエラー終了するように修正
	SQL文の末尾が`;'で終わっていない場合にそのSQLを発行しないバグを修正

	* tools/recgen.rb: 次のオプションを追加
	  -t, --text   varchar型をtextとして出力する
	  -n, --notab  インデントに4個の空白を用いる
	  -e, --emacs インデントに4個の空白を用い、Emacs用に末尾にLocal
	               Variablesを追加する
	  -h, --help   このメッセージを出力して終了する

	* glclient/callbacks.c (window_destroy): 全てのウィンドウにdestroy
	イベントを送るように修正
	* glclient/action.c (DestroyWindowAll): 全てのウィンドウをDestroy
	する関数を追加

2004-06-26  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/htcgen.xsl: Ver 2.0用に新設

2004-06-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* warningの掃除

2004-06-22  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/PostgreSQL.c (GetTable): ↓で作ったバグの修正

2004-06-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* cgi.c (CheckSessionExpire): セション変数のexpire

	* dblib/PostgreSQL.c (GetTable): dbsでnilになるbug fix

2004-06-10  Kouji TAKAO  <shimizu@netlab.jp>

	* libs/mhandler.c (ParHANDLER): エラーメッセージの改良

2004-06-09  Kouji TAKAO  <shimizu@netlab.jp>

	* blob/blob.c (OpenEntry, NewBLOB, InitBLOB, InitBLOB) 
	(FinishBLOB): バッファオーバーフロー防止のためsprintfをsnprintfへ
	置換

2004-06-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/testnet.c: 追加

	* libs/net.c: 通信のブロック化

2004-06-06  Masami Ogoshi  <ogochan@nurs.or.jp>

	* samples/sample1/demo1: GtkOptionMenuのサポート

	* monpls_demo/demo.c: GtkOptionMenuのサポート

	* glclient/widgetOPS.c (RecvOption, SendOption): GtkOptionMenuのサポート

	* tools/recgen.rb: GtkOptionMenuのサポート

2004-06-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/recgen.rb: GtkFrameのラベルサポート

	* glclient/widgetOPS.c (RecvFrame): GtkFrameのラベルサポート

2004-05-26  Kouji SHIMIZU  <shimizu@netlab.jp>

	* glclient/client.c (main): Gtkのスタイルファイルの読み込み機能を
	追加。コマンドラインオプション`-gtkrc'で指定する。

2004-05-24  Kouji SHIMIZU  <shimizu@netlab.jp>

	* tools/recgen.rb (Widget::_panda): GtkPandaCListのプロパティにrow(int)を追加
	* tools/recdefgen.rb (Widget::_panda): 

2004-05-23  Kouji SHIMIZU  <shimizu@netlab.jp>

	* tools/recgen.rb (Element::out, Element::_append): Widgetのプロパ
	ティのappend順を保持する配列(@item_ary)を導入し、append順にデータ
	定義体を出力するように修正

2004-05-21  Kouji SHIMIZU  <shimizu@netlab.jp>

	* libs/DBparser.c (DB_Parse): データベース定義体の文法エラー時に
	SEGVで落ちないように修正

	* libs/debug.h (Error, Warning, Message): 書式指定できるように修正
	(ErrorPrintf): Errorで実現できるようにしたので削除。本マクロを使用
	しているところはErrorに変更。

2004-05-18  Sho Hashimoto  <sho-h@netlab.jp>

	* libs/LDparser.c (ParWindow, ParLD): エラーメッセージの更新

	* libs/debug.h (ErrorPrintf): New macro function, 書式指定エラーメッ
	セージ出力とexit
	* libs/message.c (_MessageLevelPrintf): New function, レベル付き書
	式指定メッセージ出力

	* libs/LDparser.c (ParWindow): LD_TableにWindow名ではなくLD名を登
	録していたバグを修正。

2004-05-18  Kouji SHIMIZU  <shimizu@netlab.jp>

	GtkLabelとGtkButtonのラベルに"X"が含まれていれば
	recを生成してしまうバグを修正
	* tools/recgen.rb (Widget::isData, Widget::_panda) 
	(Widget::_panda): 
	* tools/recdefgen.rb (Widget::isData, Widget::_panda): 

	* tools/dbgen.c: -insertオプションでSQLのinsert文のテンプレートを
	出力するように修正。

2004-05-15  Kouji SHIMIZU  <shimizu@netlab.jp>

	* configure.in: Added check 'errno.h' and 'strerror()'.
	* libs/socket.c (BindUNIX_Socket): Added user friendly message when could not
	open UNIX domain socket.

2004-04-26  Kouji SHIMIZU  <shimizu@netlab.jp>

	* configure.in: Changed below option.
	`--with-shell'     to `--enable-shell' and default enabled
	`--with-opencobol' to `--enable-opencobol'
	`--with-pty'       to `--enable-pty'
	`--with-ipv6'      to `--enable-ipv6'
	`--with-oki'       to `--enable-oki'
	`--with-msgd'      to `--enable-msgd'

	* tools/copygen.c (MakeLinkage): Error if linkarea not found.

	* blob/Makefile.am (libpandablob_la_SOURCES): Bug fix, multiple defined.

2004-04-25  Kouji SHIMIZU  <shimizu@netlab.jp>

	* configure.in: un used `acconfig.h'.
	* acconfig.h: Removed.

2004-04-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/cgi.c (PutHTML): バーチャルホスト時のcookieの扱いの誤り
	を直した

2004-04-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c (_Button): eventを発生しないボタン, onClick属性

	* htserver/HTCparser.c: in memory parser

2004-03-31  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c : <fixed>にlink属性追加

2004-03-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c: <form>にtarget属性付加

2004-03-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/cgi.c: CGI処理を分離した

	* htserver/htc.c: HTCをポータブルにした(他でも使いたいため)

2004-03-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LDparser.c (ParLD) aps/aps_main.c : LD定義体にwfcの宣言を除
	いた(実用的な意味がない)

2004-03-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/wfc.c (StopSystem): SIGUSR1で正常終了

	* tools/monitor.c (StopSystem): SIGUSR1でwfcを正常終了

2004-02-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/dbgroup.c: リダイレクト専用関数

2004-02-23  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/redirect.c , tools/monitor.c: リダイレクトの仕様変更

2004-02-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/aps_main.c: aps -> wfcの接続だけにした

	* wfc/wfccontrol.c: 制御接続用クライアント

	* libs/socket.c, libs/net.c : Portの仮想化とUNIX domainへの対応

	* include/const.h: PORT_APS_BASE廃止(不要), CONTROL_PORT(制御接続
	のデフォルトはUNIX domain)

	* libs/DIparser.c: 制御接続の宣言子

	* libs/port.c: UNIX domainへの対応

	* wfc/controlthread.c : 制御接続の処理(まだ始めたばかり)

	* wfc/wfc.c: 制御接続

2004-02-20  Noboru Saitou  <noborus@netlab.jp>

	* Ver 1.2.1 release

2004-02-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/glcomm.c: glclient Ver 1.1.1への対応(glclient for Win32用)

2004-02-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/server.c: 複数のバイトオーダへの対応

2004-02-15  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/glcomm.c: 新設(バイトオーダ等を意識する通信関数)

	* libs/comm.c: ???Dataの関数をglclient/protocol.cに移動

2004-02-12  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/protocol.c: 実行時のログを取得するようにした

2004-02-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/wfc.c, wfc/mqthread.c, wfc/termthread.c, tools/monitor.c:
	トランザクションの再試行回数の上限を設定できるようにした

	* tools/monitor.c: wfc起動後の待ち時間の指定

	* fdd/fdd.c (fdd_system): system()の安全性確保

2004-02-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/server.c (CheckScreen): スクリーンチェックの間違いを直
	した

2004-02-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* fdd/fdd.c: コマンドの実行論理の変更

2004-02-03  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DIparser.c : wfcの待機ポートをdirectoryに記述できるようにした

2004-02-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/redirect.c (OpenDB_RedirectPort): dbredirectorに接続しない
	機能

2004-01-30  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/widgetOPS.c (InitWidgetOperations): gtk+pandaのバグ回避
	コード

2004-01-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* include/struct.h: 名称変更(SQL_Operation -> DB_Operation)

	* glserver/glserver.c: -ignoreを除く(バージョンチェックの方法を変
	えたために不要になった)

2004-01-27  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/server.c (CheckFeture): クライアントのバージョンチェッ
	ク方法を変えた

	* dblib/System.c: 新しいDBハンドラ(システム変数を読む)

2004-01-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/server.c (SendValue): libs/comm.cから移した(ここでしか使われてない)

2004-01-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/redirect.c: リダイレクタが異常の時に落とす機能をつけた

2004-01-15  Shugo Maeda  <shugo@netlab.jp>

	* aps/Ruby.c : Rubyハンドラのサポート

2004-01-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* fdd/fdd.c, fdd/fdw.c : 処理の実行ステータスの返却

2004-01-12  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/comm.c (SendValueBody, RecvValueBody, SendFixedString): 不要なので削除した

2004-01-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* fdd/ : ファイル操作をリモートで行うプログラム追加

2004-01-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/PostgreSQL.c (ValueToSQL): クオートの誤りを直した

2004-01-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/socket.c : Socket -> IP_Socket(IP以外のsocketを扱う関数を追
	加するため). UNIXドメインの処理の追加

2003-12-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* include/struct.h: DB_Func等の構造変更(名前表に登録しない関数を増やした)

	* aps/Exec.c (ExecuteDB_Server): rcが負値の時には実処理を回避するようにした

2003-12-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/dbgroup.c (ExecDB_Process): path, funcに引数が使えるようにした

2003-12-25  Shugo Maeda  <shugo@netlab.jp>

	* htserver/tags.c: <LINK>のサポート

2003-12-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libmondaiが国際化されていない時の動作を直した

2003-12-22  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/dbgroup.c (ExecDBG_Operation): staticにした(必要がなくなった)

2003-12-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/Dlex.h (T_CODING): ディレクティブの名称を直した(現在のとこ
	ろ両方使える)

2003-12-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/tags.c (_Form): name=のサポート

	* アプリケーションからuserを変更可能にした

2003-12-17  Shugo Maeda  <shugo@netlab.jp>

	* htserver/server.c: 環境によって、sendmsg(2)/recvmsg(2)が上手く動
	かない問題の修正

2003-12-15  Masami Ogoshi  <ogochan@nurs.or.jp>

	* monpls_demo/demo.c: 日レセに必要なウィジェット全部に対応

	* auth/glauth.c (ExecuteServer): forkするようにした(異常クライアン
	トに対してrobustにするため)

2003-12-10  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/SQLparser.h : byte codeの仕様を一部変更

	* aps/OpenCOBOL.c (GetApplication): Pack/UnPackの仕様変更に追従

2003-12-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/Shell.c (ExecShell): 1トランザクション内で複数起動が出来る
	ように(なんでこんなところにRewindLBSがあるんだよ(-_-))

	* glserver/server.c (ThisAuth): AuthUserの引数変更

2003-11-22  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dbstuff/dbs_main.c : スキーマ問い合わせコマンド追加

2003-11-19  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/client.c (SetDefault): デフォルトがv2 offに

2003-11-14  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/monitor.c (StopSystem): SIGHUPでaps再起動、SIGUSR1で停止

2003-11-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/comms.c (SendValueString): 型情報の付加オプション追加

2003-11-11  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in: libmondaiのチェックエラー時の停止

	* aps/OpenCOBOL.c (_ReadyExecute): libcobの初期化を何度もしないようにした

2003-11-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/dbgroup.c: ExecDB_Function削除(不要だし混乱の元)

2003-11-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* include/struct.h: change member name

	* dblib/PostgreSQL.c (ValueToSQL): bug fix(quote忘れ)

2003-11-03  Masami Ogoshi  <ogochan@nurs.or.jp>

	* htserver/: 国際化

2003-10-27  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.2.0 リリース(安定版ブランチ作成)

	* libs/comm.c (SendLBS): bug fix

2003-10-10  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/recgen.rb: ボタンのアイテム生成

2003-10-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/callbacks.c (send_event): gtk_widget_get_toplevelのバグ
	回避(なぜか名前が消えていることがある)

2003-10-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/recgen.rb: Signal -> Gsignal(Ruby 1.8でエラーとなったため)

2003-10-03  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/copygen.c (_COBOL): aliasに対応

	* libs/ : Dlex.[ch], DBlex.[ch], DIlex.[ch]をやめて、libmondai中の
	汎用Lexを使うようにした

2003-09-26  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/dbgen.c (main): DBのあたりの変更に対応

	* dblib/PostgreSQL.c (GetTable): intの時の処理を正しく直した

	* tools/checkdir.c (DumpPath): pathのダンプ機能追加

2003-09-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/PostgreSQL.c: null値対応

2003-09-11  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/Dlex.c: LDlex.c BDlex.c DBDlex.cを統合

	* libs/mhandler.c: LDparser.c BDparser.cのうち、handlerの処理部分を分離

2003-09-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DB*.[ch] : libmondaiから分離した

	* libs/SQL*.[ch]: libmondaiから戻した(libmondaiにあるべきではないので)

2003-09-04  OGOSHI  <ogochan@nurs.or.jp>

	* libs/LDparser.c, libs/BDparse.c, aps/handler.c: 一部ハンドラを定
	義可能にした

2003-09-03  OGOSHI  <ogochan@nurs.or.jp>

	* aps/handler.h: 型名変更(MessageHandler -> MessageHandlerClass)

2003-08-31  OGOSHI  <ogochan@nurs.or.jp>

	* dblib/PostgreSQL.c (ExecPGSQL): 復帰コードの扱いの変更(致命的で
	ない復帰コードは積算するようにした

2003-08-30  OGOSHI  <ogochan@nurs.or.jp>

	* aps/apslib.rb, aps/Exec.c: データベースアクセスを可能にした

2003-08-19  OGOSHI  <ogochan@nurs.or.jp>

	* aps/apsio.c (CheckCache): 間違い修正

2003-08-15  OGOSHI  <ogochan@nurs.or.jp>

	* aps/Exec.c: CGIスタイルに任意のsub processをexecするハンドラ

2003-08-09  OGOSHI  <ogochan@nurs.or.jp>

	* configure.in: GNOMEの処理を正しくした。サーバのみbuild出来るよう
	にした

2003-08-05  OGOSHI  <ogochan@nurs.or.jp>

	* libs/LDparser.h: WindowBindの構造の若干の変更、cWindowsの論理の
	変更(このため、データの並びが変更になっている)

2003-07-27  OGOSHI  <ogochan@nurs.or.jp>

	* libs/socket.c: tcp.cから名前変更(TCP以外の接続するかも知れんからね)

2003-06-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in: msgdを使うかどうかの選択

2003-06-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/message.c (InitMessage): msgdに出力する機能

	* tools/msgd.c: メッセージログを収集するdaemon新規作成

2003-06-26  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/net.c (Send, Recv): EOF判定を直した

2003-06-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* auth/glauth.c (ExecuteServer): 多重化をやめる(必要性がない)

	* libs/tcp.c (SetNodelay): 追加(TCP_NODELAYを設定する)

2003-06-23  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/OpenCOBOL.c (_ReadyDC): preloadをやめた(ifをいじれば元に戻る)

2003-06-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/OpenCOBOL.c (_StartBatch): パラメータの文字列をCOBOL形式に変更

2003-06-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/PostgreSQL.c (GetValue): bug fix(integerの時の値獲得がおか
	しかった)

	* include/glterm.h (SCREEN_FORK_WINDOW): 新規ウィンドウを出して処
	理を分枝させる機能(ポップアップではなく、他に処理を移すため)

2003-05-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c (MessageThread): MCP_PUT_NEWの処理に誤りがあった

	* libs/Makefile.am (libpanda_la_DEPENDENCIES): enum.hをインストー
	ル対象にした

2003-05-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/server.c (CheckScreen): ログ出しの変更
	(MainLoop): クライアントのバージョンチェックをしないオプションを作った

2003-05-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/widgetOPS.c (RegistValue): 名前の持ち方を変更(V2対応)

	* glclient/callbacks.c: V2プロトコルへの対応を正しくした

2003-05-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/copygen.c (_COBOL): COBOL二次元配列問題対応

2003-05-12  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c (SelectData): apsのピン止め

2003-05-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/protocol.c (RecvValue): 処理するプロトコルバージョンを指定可能にした

2003-05-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/load.c: libltdlを使うのをやめた(Woodyでは正常に動かないため)

2003-05-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LDparser.c (ParLD): キャッシュ数の追加

	* aps/apsio.c (CheckCache): spa, linkのキャッシュ機構

2003-05-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c: aps多重化

	* libs/queue.c (PeekQueue): 追加

2003-05-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/apslib.h: handler.h, wfc.hから外向けAPI分を分離

2003-05-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* panda-config.in: libpandadbの外向けAPI用に追加

	* dblib/dblib.h: dbgroup.hから外向けAPI分を分離

	* aps/loader.c: dynamic loader module

	* aps/C.c: C用言語ハンドラ

2003-04-30  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/recgen.rb: 配列の大きさの間違いを修正した

2003-04-22  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/recdefgen.rb: gsub -> tr

2003-04-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/Postgres.c: エラー時のメモリーリーク対策

2003-04-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/termthread.c: イベントの耐障害性向上

	* glserver/server.c: 通信の耐障害性向上

2003-04-10  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/applications.c (ApplicationsInit): アプリケーションに初期化
	パラメータを渡すようにした

2003-04-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/server.c,glserver/glserver.c, glclient/client.c: SSL化

	* libs/net.c: SSLコード追加

2003-04-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in, acconfig.h: SSL化の準備

2003-04-03  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/net.c: ネットワークコードの改良(SSL化の準備)

2003-04-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/aps_main.c, tools/monitor.c: apsの寿命を設定するパラメータ付加(MaxTran)

2003-03-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in: PANDA_CONFIG -> GTK_PANDA_CONFIG

2003-03-14  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/directory.c (InitDirectory): 引数廃止(不要だった)

	* libs/driver.c (ReadRecordDefine): DDparser.cに移した

2003-03-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/dbgroup.c: データベースハンドラのデマンドロード

	* tools/copygen.c : 言語の指定をするようにした

2003-03-12  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/handler.c (InitiateBatchHandler): 言語ハンドラのデマンドロード

2003-03-04  Keisuke Nishida  <knishida@netlab.jp>

	* glclient/widgetOPS.c: GtkPandaPS support.

2003-03-03  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Pack/UnPack関係の整理(libmondai絡み)

2003-02-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* ライブラリ周辺の整理をした

	* datalib/を分離した -> libmondai

2003-02-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/Makefile.am: libi18nの廃止(iconvを使うようにした)

	* auth/: 認証関連プログラムを別ディレクトリに

	* libs/applications.c: アプリケーションモジュールのダイナミックリンク

2003-02-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.0.7-branch吸収

2003-01-30  Noboru Saitou  <noborus@netlab.jp>
	* tools/recdefgen.rb add support GtkFrame and GtkProgressBar.
                             fix GtkLabel in column list.

2002-11-22  Keisuke Nishida  <knishida@netlab.jp>

	* dblib/Postgres.c (GetTable, GetValue): Fix memory leak.
	* datalib/value.c (NumericToFixed): Fix memory leak.

2002-10-29  Keisuke Nishida  <knishida@netlab.jp>

	* glclient/callbacks.c (send_event): タイマーによる send_event を
	キャンセルするようにした

2002-10-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.1.2 release

2002-10-23  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/protocol.c (CheckScreens): ctimeもチェックもするようにした

	* glserver/server.c (CheckCache): ctimeもチェックもするようにした

	* libs/tcp.c : つまらないバグの修正

2002-10-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* datalib/value.c: textの修正、ラージオブジェクト対応

	* datalib/DDlex.c, datalib/DDparser.c : ラージオブジェクト対応

2002-10-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/recdefgen.rb: アプリチームの修正を吸収(対応ウィジェットを増やした)

2002-10-12  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.1.1 release

2002-10-11  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/recdefgen.rb: 無意味な文字数+1を削除、char -> varchar

2002-09-29  akira yamada / やまだあきら <akira@vinecaves.com>

	* libs/tcp.c : SO_REUSEADDRの調整

2002-09-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* dblib/Shell.c (OnChildExit): aps_main.cより移動

2002-09-28  Tomohiro 'Tomo-p' KATO <tomop@teamgedoh.net>

	* aps/aps_main.c (OnChildExit): shellハンドラのzonbee対策

2002-09-28  Masami Ogoshi  <ogochan@nurs.or.jp>
	
	* Doc/glclient.tex: 間違い修正

2002-09-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/monitor.c: プロセス操作時の待機時間を設定可能にした

2002-09-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.1.0 release

	* libs/ のうちデータ絡みのライブラリを datalib/ に移した

2002-09-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/ のうちデータベース絡みのプログラムを dbstuff/ に移した

2002-09-11  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/ のうちデータベース絡みのライブラリ部分を dblib/ に移した

2002-09-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* pgserver/monlib.rb : ポート番号変更

	* インストールディレクトリの変更(ayの修正の吸収)

	* Ver 1.0.8 release

	* aps/dbslib.rb: Rubyからデータベースをアクセスするライブラリ

	* aps/dbs_main.c: 外部からのデータベース参照デーモン

2002-09-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/MCPSUB.c (CheckArg): ちょっとした引数チェック

	* libs/DBparser.c (ParDBDB),libs/LDparser.c (ParDB),libs/BDparser.c (ParDB):
	metadbの記述を不要にした(一応下位互換あり)

2002-09-06  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/checkdir.c (DumpKey): つまらないエラーの修正(気にするな)

	* libs/DBparser.c, libs/DBparser.h,
	libs/DBlex.c, libs/DBlex.h: DBサーバ用定義体の解析

	* libs/DIparser.c (ParDBD): DBサーバ用定義の追加

2002-09-06  Keisuke Nishida  <knishida@netlab.jp>

	* glclient/protocol.c, glclient/protocol.h,
	glclient/callbacks.c, glclient/callbacks.h:
	Fixes in ResetTimer.

2002-09-04  Keisuke Nishida  <knishida@netlab.jp>

	* glclient/protocol.c, glclient/protocol.h,
	glclient/callbacks.c, glclient/callbacks.h:
	2002-08-20 の修正を取り消し。

2002-08-25  gettextize  <bug-gnu-gettext@gnu.org>

	* Makefile.am (SUBDIRS): Add m4.
	(ACLOCAL_AMFLAGS): New variable.
	(EXTRA_DIST): New variable.
	* configure.in (AC_OUTPUT): Add m4/Makefile.

2002-08-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/comms.c (SendValueString): 文字列による通信

2002-08-22  Masami Ogoshi  <ogochan@nurs.or.jp>

	* pgserver: 外部プログラムからのwfcインターフェイスのリリース

2002-08-20  Keisuke Nishida  <knishida@netlab.jp>

	* glclient/protocol.c (ResetTimer): glclient/callbacks.c から移動。
	gtk_container_forall を使って再実装。
	(ShowWindow): 新しい ResetTimer を呼び出し。
	* glclient/callbacks.c (UpdateWidget): 新しい ResetTimer を呼び出し。

2002-08-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.0.7 release

	* pgserver/: アプリケーションからwfcを呼び出すためのインターフェイスを作った

2002-07-26  Keisuke Nishida  <knishida@netlab.jp>

	* glclient/callbacks.c (send_event): ビジーカーソル(砂時計)対応

2002-07-10  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/applications.c: termio.hのincludeをやめた(不要だった)

2002-07-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.0.6 release -> CVS化

2002-06-27  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/callbacks.c: knishida patch吸収

2002-06-06  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/widgetOPS.c (RecvEntry): knishida patch吸収

	* aps/redirect.c (BeginDB_Redirect): リダイレクト先がない時の間違いを修正

2002-06-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.0.5 release

	* aps/redirect.c : 高速化(トランザクション終結時にリダイレクト処理をする)

	* aps/dbredirector.c (LogThread): ↑に対応

2002-06-03  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in: glibのルールを忘れていた

2002-05-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/widgetOPS.c (RecvEntry): knishida patch吸収

	* glclient/callbacks.c (send_event): knishida patch吸収

2002-05-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.0.4 release

	* aps/dbredirector.c (LogThread): flushを忘れている部分を直す(高速
	化するか？)

	* include/const.h (SIZE_BUFF): バッファサイズ拡張(一時しのぎ)

2002-05-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/copygen.c: -dbだったパラメータを-dbareaに変更した

2002-04-21  Keisuke Nishida <knishida@netlab.jp>

	* glclient/widgetOPS.c (RecvEntry): Gtk(Panda)Entryの初期値が先頭
	から表示されない問題を修正

	* glclient/callbacks.c (send_event_when_idle): インクリメンタル検
	索開始の延滞時間(デフォルトで 1 秒)を環境変数でカスタマイズ出来る
	ようにした

2002-04-12  Keisuke Nishida <knishida@netlab.jp>

	* glclient/callbacks.c (send_event): 二重カーソル問題回避

2002-04-03  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.0.3公開

2002-04-03  Keisuke Nishida <knishida@netlab.jp>

	* glclient/callbacks.c: 二重カーソル問題回避

	* glclient/client.c: 

	* glclient/protocol.c: 

	* glclient/protocol.h: 

2002-04-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.0.2公開(1.0.1は訳あって非公開)

2002-03-27  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/termthread.c (FinishSession): メモリ開放の追加(忘れてた)

2002-03-12  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LDlex.c (DoInclude): LD_DirがNULLの時の処理

2002-03-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/value.c (FixedRescale): 負数の処理を正しくした

2002-03-04  Go Kida <kida@netlab.jp>

	* htserver/server.c: include sys/uio.h

2002-03-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 1.0.0 release ＼(^o^)／

	* htserver/mon.c (PutHTML): セション保持をcookieでも行えるようにした

	* htserver/server.c (SesServer): セション保持時間の設定。長時間放
	置するとセションを消すようにした

2002-02-27  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/handler.c (StartBatch): 終了コードを返すようにした

2002-02-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* とりあえずhtserver動くようになる

2002-02-21  hikino <hiki@matsukei.co.jp>

	* libs/front.c (TermName): v6対応の修正

2002-02-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in: htserver追加(まだ動かじ)

	* aps/OpenCOBOL.c (_ReadyDC): cob_initを呼ぶ

2002-02-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/value.h (GL_TYPE_DBCODE): 加工しないSQL用データ型

2002-02-06  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/monitor.c (StartWfc): wfc起動時に-backを指定するようにする
	(defaultでは少なすぎ)

2002-02-05  Keisuke Nishida <knishida@sky.sannet.ne.jp>

	* glclient/widgetOPS.c (RecvText): 修正

2002-02-02  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.16 release

	* aps/OpenCOBOL.c (GetApplication): 画面遷移処理の削除

	* cobol/MCPMAIN.CBL.C : 画面遷移処理の削除

	* aps/handler.c (ExecuteProcess): 画面遷移処理の吸収

	* aps/dotCOBOL.c: インターフェイスの整理

	* aps/OpenCOBOL.c: インターフェイスの整理

	* aps/handler.c: インターフェイスの整理

	* aps/handler.h: インターフェイスの整理

2002-01-31  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.15 release

	* ドキュメント充実 B)

	* tools/copygen.c: -dbinfoを廃止(不要)

2002-01-30  Keisuke Nishida <knishida@sky.sannet.ne.jp>

	* glclient/callbacks.c (open_browser): bug修正

2002-01-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/OpenCOBOL.c (_ReadyDC): module preload

2002-01-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.14 release

	* configure.in: ENABLE_GNOMEを忘れていた

2002-01-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.13 release

	* aps/OpenCOBOL.c (FixedCobol2C): OpenCOBOLの数値表現の変更に合わせた

	* Ver 0.9.12 release

	* tools/monitor.c (StopSystem): 止め残したプロセスを全てkillするようにした

2002-01-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DIparser.c (BuildMcpArea): MCPAREAの構造を変えた

	* libs/DDparser.c (ParValue): GL_TYPE_RECORDの時にメンバが全くない時の処理

2002-01-23  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.11 release

	* tools/monitor.c (KillWfc): start-stop-daemonへの対応

	* Ver 0.9.10 release

	* aps/OpenCOBOL.c (FixedCobol2C): 数値変換の間違いを直した

	* Ver 0.9.9 release

	* aps/OpenCOBOL.c (FixedC2Cobol): 数値変換の間違いを直した

	* Ver 0.9.8 release

	* aps/OpenCOBOL.c (FixedC2Cobol): 数値変換の間違いを直した

	* glclient/widgetOPS.c (InitWidgetOperations): マクロ名を直す

2002-01-22  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/value.h (g_int_hash_table_foreach): 整数用hash(キャストするだけぇ)

	* Ver 0.9.7 release

	* glclient/widgetOPS.c (InitWidgetOperations): ちょっと安全対策

2002-01-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.6 release

2002-01-20  Masami Ogoshi  <ogochan@nurs.or.jp>

	* configure.in: gtk+pandaの存在チェックをちゃんとした

	* libs/driver.h: value.hからScreenDataを引越す

2002-01-19  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/termthread.c (InitSession): セションを保持しないオプション追
	加(DoS対策)

	* glclient/protocol.c (ShowWindow): 開いてないwindowを閉じようとし
	た時に無視する処理追加

2002-01-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.5 release

	* libs/DIparser.c (BuildMcpArea): window stackの大きさをdirectory
	で指定可能にした

	* MCPAREAをlinkageと同じ管理にした

2002-01-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/copygen.c (MakeMCP): MCPAREAの生成を可能にする

	* libs/DIparser.h: mcpareaをDI_Structに作る

2002-01-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LDparser.h: linkrecをLD_StructからDI_Structに移す

2002-01-15  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.4 release

	* libs/LDparser.c (ParDATA): ここでのLINKAGE宣言を廃止して、DDparser.cに移動

2002-01-14  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.3 release

2002-01-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps : apsioをlibsから移す

2002-01-10  Masami Ogoshi  <ogochan@nurs.or.jp>

	* tools/monitor.c (_StartAps): apsの起動を自ホスト分のみにした

2002-01-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.2 release

2002-01-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/Shell.c (_DBERROR): 未定義機能にエラーを出すようにした

	* glclient/callbacks.c (send_event_if_changed): 宣言の間違いを直す

2002-01-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Ver 0.9.1 release

	* libs/Makefile.am (libpanda_la_SOURCES): libpandaからauth.cを除いた

	* Ver 0.9.0 release

	* aps/dbredirector.c (FileThread): ログのタイムスタンプを正しくした

	* tools/monitor.c (StartProcess): ログが取得出来るようにした

2002-01-06  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c (ReadyAPS): スレッドの初期化の間違いを直した(aps
	からwfcに接続する時に発覚する)
	(ChangeLD): LDを移った時の初期化忘れを直す(spa, window)

	* libs/apsio.c (GetWFC): wfc切断時の処理を正しくした

2002-01-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c (MessageThread): apsの異常時でもwfcが死なないよう
	にした

	* libs/apsio.c (InitAPSIO): apsからwfcへの接続を確実にした

2002-01-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/termthread.c : 肯定応答をAPS_OK, 否定応答をAPS_NOTにした(以
	前はTRUE, FALSEだった)

	* glclient/protocol.c (ProtocolThread): 通信部のマルチスレッド化

2002-01-03  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LBSfunc.c (LBS_RequireSize): 追加

	* libs/comm.c (SendLBS, RecvLBS): LBSの送受信の追加

	* libs/wfcio.c : データを一度packしてから送受信するようにした
	(apsio.c, wfc.cも同様)

2002-01-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/Shell.c: shell起動用ドライバ追加

	* aps/Makefile.am: PostgreSQLのドライバを1つのソースにした

	* libs/LBSfunc.[ch]: 新設

	* libs/tcp.c: IPv4専用バイナリを作れるようにした

2001-12-31  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/dbgroup.c: MCPSUBのファンクション名チェックをやめた

	* libs/value.h: DBG_Structに優先順位パラメータを加追

	* libs/DIparser.c (AppendDBG): DI_Struct中のDBG_Structの格納を順序
	が持てるようにテーブルに保持するように変更。ただし、hashも残す

2001-12-30  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/OpenCOBOL.c (OpenCOBOL_UnPackValue): BINARYの時の処理を正し
	くした(PackValueも同様)

	* aps/PostgresDB.c (_DBDISCONNECT): DBを二重にdisconnectしないよう
	にした。

	* aps/aps_main.c : モジュールをロードするパスをコマンドラインで指
	定出来るようにした(dbstub_main.cも同様)

2001-12-29  Masami Ogoshi  <ogochan@nurs.or.jp>

	* sample3/: 追加

	* aps/OpenCOBOL.c (GetApplication): MCPMAINの機能をマトモにした

2001-12-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DDparser.c : fcloseの間違い修正(LD, BD, DIのparserは全て)

	* libs/DDlex.c (ReadyDirective): ディレクティブでない時の処理を修
	正(LD, BD, DIのlexは全て)

2001-12-25  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/Makefile.am (libpandas_a_SOURCES): glserver用ライブラリを作った
	(libpandac_a_SOURCES): glclient用ライブラリを作った

2001-12-22  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LDparser.c (ParLD): home指定に~を有効にした

	* aps/handler.c (InitiateHandler): 存在しない言語ハンドラをエラーに

2001-12-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/MCPSUB.c: OpenCOBOL用MCPSUBモジュール作成

	* aps/OpenCOBOL.c: オンライン部分作成

	* aps/Makefile.am: モジュール化に対応

2001-12-13  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/dbstub_main.c: サブプロセス化

2001-11-26  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DIparser.c (ParDI): ディレクトリにlddir, bddir, recorddirが
	記述出来るようにした

2001-11-21  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/tcp.c: ポートを文字列で指定するようにした

2001-11-20  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/tcp.c: IPv6をマトモな対応にした(つもり)

2001-11-15  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DIparser.c : LD_Dir, BD_Dir, RecordDirにパス概念を入れた

2001-11-15  Keisuke Nishida <knishida@sky.sannet.ne.jp>

	* glclient/callbacks.c (send_event_if_changed): 

2001-11-12  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LDparser.c: command命令の廃止(環境変数で指定するようにした)。
	home命令の追加(実行ディレクトリの指定)

	* aps/dbstub_main.c : daemon形式をやめた

	* aps/PostgresTable.c: COBOL依存部の排除(dotCOBOL.cで吸収)

	* aps/handler.c: 言語依存の部分の集約のために新設

	* aps/dotCOBOL.c (_CleanUp): 正常終了時にfcuプロセスが残らないようにした

2001-11-08  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LDparser.h: 窓情報の持ち方を変更(bindのため)

	* libs/LDparser.c: apsのためのbind構文

2001-11-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/dbstub.c : dbstubを必要としない場合に対応しやすくした

	* aps/aps_main.c: COBOL以外の言語に対応しやすくした

	* aps/COBOL.c: apsCOBOLを整理した

2001-11-02  Keisuke Nishida <knishida@sky.sannet.ne.jp>
	
	* glclient/protocol.c (GetScreenData): フォーカスがおかしくなることの修正

2001-11-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/callbacks.c (send_event): イベント処理中のイベントを無視する

2001-10-30  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glclient/widgetOPS.c (InitWidgetOperations): GtkPandaEntryへの対応

2001-10-23  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/wfc.c (CatchSEGV): SEGVの時に落ちないようにした(両刃の剣？)

	* aps/dbgroup.c: データベース操作系の処理とテーブル操作系の処理を
	別にした(テーブルの指定の有無が違うため)

	* cobol/MCPSUB.CBL: DBOPEN, DBDISCONNECT, DBCLOSE, DBSTART,
	DBCOMMITの処理を変更した(dbgroup.cの変更のため)

	* libs/DIlex.c: logportをredirect_portに名称変更

	* aps/dbredirector.c: log.cを名称変更, DBの処理を追加

	* aps/dbgroup.c: 初期化の方法を変更(ここでまとめて行うのではなく、
	各DB処理モジュールの中で行うようにした)

	* aps/PostgresTable.c: postgres.cから分離

	* aps/PostgresDB.c: postgres.cから分離

2001-10-19  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/pandalog.c: ログをファイルに取る(forwardは未実装)

	* libs/DIlex.c: include directive

2001-10-17  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/directory.c (SetUpDirectory): 余計なLD, BDを読み込まないよ
	うにした(メモリ節約のため)

	* aps/apsCOBOL.c: シグナル処理の追加(死なないプロセスにしないため)

	* libs/value.h: ValueStructにfUpdateを追加(入力された項目に印をつ
	けるため)

	* libs/DIparser.c (ParDBGROUP): DB GROUPの概念を入れる(DBマネージャ
	の複数対応とリカバリを確実にするため)

2001-09-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/wfcio.c : wfc <-> server間通信の信頼性を上げた(つもり)

	* libs/queue.c (NewQueue): pthread_cond_waitがblockしないbug fix

2001-09-19  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/tcp.c (ConnectSocket): ホスト名が引けない時の処理(PR#193)

2001-09-15  Masami Ogoshi  <ogochan@nurs.or.jp>

	* cobol/MCPMAIN.CBL: JOIN時に途中の画面を消す機能追加
	
2001-09-14  Masami Ogoshi  <ogochan@nurs.or.jp>

	* wfc/mqthread.c (ConnectAPS): apsからの再接続を確実にした

	* glclient/protocol.c (CreateNewWindow): CURRENTで画面がない時には、
	NEWするように改良

	* cobol/MCPMAIN.CBL: 画面の切り換え処理の改良(画面設定の変更)

	* wfc/mqthread.c (MessageThread): 画面の切り換え処理の改良

2001-09-10  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/aps.c : aps <-> wfc間通信の信頼性を上げた(つもり)

	* include/wfc.h: aps用mutexをMQ_NodeからAPS_Nodeに移した

	* wfc/mqthread.c (MessageThread): apsからの接続を完全にした

	* include/const.h: 広域定数を一つのファイルで定義した

2001-09-07  Masami Ogoshi  <ogochan@nurs.or.jp>


	* tools/copygen.c: BDへの対応

	* glserver/pandaIO.c (RecvPanda): put type JOIN追加(ポップアップを閉じるため)
	* cobol/MCPMAIN.CBL:
	* wfc/mqthread.c (MessageThread): 

2001-09-04  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DIparser.c : バッチ環境定義の`BD'を作った(LDとの兼用はおか
	しい上にスペック的に問題がある)

2001-09-01  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/dbstub.c (InitSystem): 虫取り(LD毎のDB定義に対応してなかった)

2001-08-31  Masami Ogoshi  <ogochan@nurs.or.jp>

	* aps/dbstub.c (main): 虫取り^^;

	* wfc/mqthread.c (MessageThread): 画面切り換えの修正

2001-08-27  Masami Ogoshi  <ogochan@nurs.or.jp>

	* Makefile.am : ディレクトリ構成変更(glserverを分けた)

	* glserver/mqthread.c (MessageThread): メッセージキューの実装(トラ
	ンザクション順序の保証のため)

	* glserver/wfc.c: スレッド毎にソース分割

2001-08-26  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/apsCOBOL.c : COBOLの実行ログをファイルに取るようにした

2001-08-20  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/wfc.c: マルチスレッド化

2001-08-16  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/tinycobol.c: Tiny COBOL依存のデータ変換追加(未テスト)

	* glserver/Makefile.am : dot COBOL用、Tiny Cobol用のサーバを生成するようにした

	* glserver/cobolvalue.c : 処理系依存の部分を分離した

	* glclient/protocol.c (SendConnect): glclientの接続エラーがわかるようにした

2001-08-09  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/dbstub.c: apsCOBOLと同じような動作にした

2001-08-07  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/apsCOBOL.c (ExecuteServer): aps終了時にCOBOLをEOF通知するようにした

	* tools/copygen.c: LD毎にDB定義があることに対応した

	* cobol/MCPMAIN.CBL: COPY句名の整理(ソース変更を不要にした)

	* cobol/MCPSUB.CBL: MCPDBSUB.CBLとMCPDCSUB.CBLを統合した

	* sample2/Makefile : 整理

	* sample1/Makefile : 整理

	* glserver/wfc.c : ワークフローコントローラを実装しはじめ、とりあえず動く

2001-08-05  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/DIparser.c , libs/LDparser.c : DB定義の位置をディレクトリからLDに変えた

2001-07-31  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver (SetDefault): ディレクトリのデフォルトを変えた

2001-07-28  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/apsCOBOL.c: 起動パラメータにポート番号を入れた

	* libs/DIparser.c : LDのポート番号ホスト名をディレクトリに記述するようにした

2001-07-27  Masami Ogoshi  <ogochan@nurs.or.jp>

	* libs/LDparser.c (ParLD): commandの文法を変えた

2001-07-24  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/apsCOBOL.c : LD毎にアプリ用ディレクトリを作る仮定を入れる

2001-07-18  Masami Ogoshi  <ogochan@nurs.or.jp>

	* glserver/postgres.c (ExecSQL): アトリビュートの処理(忘れてた)

2001-07-15  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/postgres.c (ValueToSQL): like, ~ の処理を正しくした

	* libs/DDparser.c (ParValue): アトリビュートの処理

	* libs/value.c (RecvValueBody): Fixedのメモリリークを解消した(つもり)

2001-07-07  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/cobolvalue.c : varcharとcharの扱いを同じにしてみた

2001-07-04  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/dbexec.c (WriteDB_Reply): プロック数の誤りを直した

2001-06-29  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/apsCOBOL.c (InitSystem): ptyの使用をconfigure項目にした

	* libs/DDlex.c: varchar追加

2001-06-24  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/postgres.c : SQLインタープリタ追加

	* libs/SQLparser.c: SQLパーザ追加

	* libs/DDparser.c (DD_ParserDataDefines): pathの処理の追加

2001-06-10  Masami Ogoshi  <ogochan@linux.or.jp>

	* sample2/MCPMAIN.CBL: とりあえずのトランザクション処理をapsCOBOLへ移す

	* glserver/apsCOBOL.c: dbstubと統合

	* glserver/dbexec.c: dbstubを処理部とサーバ部に分割

2001-06-09  Masami Ogoshi  <ogochan@linux.or.jp>

	* sample2/MCPMAIN.CBL: トランザクション処理追加

	* オンラインデモが動くようにした

2001-06-08  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/dbstub.c: dbstubをDBMS依存部と非依存部に分割

2001-06-07  Masami Ogoshi  <ogochan@linux.or.jp>

	* configure.in: 斉藤君の修正の吸収

2001-06-04  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c: NumericToFixed, FixedToNumericをvalue.cに移した

2001-05-26  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/DDparser.c (DD_ParserDataDefines): 副次キーの処理追加

2001-05-16  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/option.c (CheckParam): 同じ文字列で始まるオプションが使えるようにした

2001-05-11  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/copygen.c : MCPDBSUB用COPY句の生成機能

2001-04-23  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c: GtkNumberEntryの固定小数点化に対応

	* glclient/protocol.c (SendConnect): バージョンチェック

	* glserver/server.c (MainLoop): バージョンチェック

2001-04-20  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c (RecvNumberEntry): データをFixedで通信するようにした

2001-03-26  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/copygen.c: numberの時、符号を生成するようにした

2001-03-20  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/recdefgen.rb: GtkButtonのアトリビュート生成

2001-03-19  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/callbacks.c : change系のcallbackを元に戻した

	* glserver/server.c (TermName): 端末名のフォーマットを変えた

2001-03-15  Masami Ogoshi  <ogochan@linux.or.jp>

	* cobol/MCPMAIN1.CBL: MCP-TERM, MCP-USER追加

	* tools/user.c: ユーザ管理ユーティリティ追加

2001-03-14  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/server.c : ユーザ認証、端末名

	* glclient/client.c : ユーザ認証

2001-03-12  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/server.c : 端末名の取得

2001-03-10  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/LDlex.c : cppを不要にした

	* libs/DDlex.c : cppを不要にした

2001-03-09  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/DIparser.c : 認証プロトコル定義追加

	* glserver/glauth.c: 認証サーバ追加

2001-02-27  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/auth.c: 追加

2001-02-17  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/applications.c (ApplicationsCall): アプリケーションが発見
	出来ない時の処理を正しくした

2001-02-11  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/copygen.c (MakeFromLD): 階層を一つ上げた

2001-02-09  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/recdefgen.rb : GtkNumberEntryの対応が不完全だったので直した

	* libs/DDparser.c (ParValue): 論理をちょっと変えた
	(ParPKey): 追加

2001-01-26  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/recdefgen.rb: GtkToggleButtonとGtkCListの処理を正しくした

2001-01-25  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/recdefgen.rb : GtkNumberEntry, GtkTextに正しく対応した

	* glclient/widgetOPS.c (RecvNotebook): 子ウィジェットを正しく処理す
	るようにした

2001-01-24  Masami Ogoshi  <ogochan@linux.or.jp>

	* include/glterm.h (SCREEN_END_SESSION): アプリケーションからの強制
	終了処理を追加(MCPMAINも変更している)

	* glclient/callbacks.c (window_close): 画面切り換え時に窓がなくなっ
	て終了してしまうbug修正

2001-01-23  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/recdefgen.rb : 最新の仕様に合わせた

	* glclient/callbacks.c (window_close): 全ての窓を閉じるとクライアン
	トが終了するようにした
	(switch_page): GtkNotebookのページ切り換えに対応

Mon Jan 22 03:52:24 2001  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c (RecvCombo): GtkComboのエントリが元に戻らな
	いようにした。リスト、コラムリストの表示開始インデクスが指定可能に
	した
	
	* glclient/callbacks.c (entry_next_focus): フォーカス制御を
	callbackでも出来るようにした

Fri Jan 19 15:25:13 2001  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/comm.c : 浮動小数点が扱えるようにした

	* libs/value.c : 固定小数点の扱いが出来るようにした

	* tools/copygen.c : numberの小数点付きに対応

Thu Jan 18 03:25:31 2001  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/apsCOBOL.c (RestoreValue): NUMBERに対応した(忘れていたの
	さ)。ただし浮動小数点は未対応

	* libs/value.c (SetValueString): NUMBERは右詰めになるようにした

	* libs/DDparser.c (ParValue): CHARやNUMBERの時に1バイト余分に取るよ
	うにした

Wed Jan 17 19:41:07 2001  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c (RecvNumberEntry): 数値入力ウィジェット対応

	* libs/value.c: 浮動小数点数対応(ただし、フォーマットは機種依存)

2001-01-14  Masami Ogoshi  <ogochan@linux.or.jp>

	* cobol/Makefile : 作った

	* glclient/widgetOPS.c: ステートに対応

2001-01-12  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c : スタイルに対応

2001-01-08  Masami Ogoshi  <ogochan@linux.or.jp>

	* フォーカス制御を追加。C/S間のプロトコルは上位互換であるが、その他
	のプロトコルは非互換になったので注意が必要

2001-01-07  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/value.c (RecvValueBody): 文字列、数字列、バイト列の長さの制約
	をなくした

	* tools/recdefgen.rb : GtkEntryの長さを長めに

	* libs/DDparser.c (AddRecordItem): 名前重複のエラーメッセージに重複
	した名前を表示するようにした

	* glclient/protocol.c (ShowWindow): ウィンドウを破壊した後には、
	XMLを再読み込みするようにした

2001-01-04  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c : GtkCalendar追加。ボタン制御をトグルに統合

2000-12-27  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/recdefgen.rb : GtkCalendarへの対応。ボタン系ウィジェットの属
	性フィールドへの対応

2000-12-25  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/copygen.c : エラー処理追加。大きさ0の場合の出力停止

2000-12-22  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/copygen.c : 項目名を整理した

	* デモを複数LDに変更した

	* LDを横断する時にパラメータの引き渡しが出来るようにした

	* glserver/apsCOBOL.c (ExecuteServer): 返答の順序を変更した

	* libs/DDparser.c : ファイルがない時の処理

	* libs/LDparser.c : ファイルがない時の処理

2000-12-21  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/driver.c : fNewを立てる場所を、SetWindowNameからPutWindowに変
	えた(どうもバグを作る元になっているので)

2000-12-20  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/apsCOBOL.c : レコード長の制約を回避するようにし、LDのサイ
	ズの制約を撤廃した(named pipeの扱いにも問題があった)

	* ディレクトリを読むようにした。そのため起動パラメータは変更になった

2000-12-18  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/directory.c: 追加(ディレクトリの概念導入)

2000-12-10  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/apsCOBOL.c (ExecuteServer): 初画面の概念導入

	* libs/value.c (ConvertCobol2C): nul文字の時に処理を中止しないように
	した

	* tools/recdefgen.rb : notebookへ対応

2000-12-06  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/copygen.c (MakeFromLD): LDRFILE, LDWFILEの生成が容易になるよ
	うにした

2000-12-05  Masami Ogoshi  <ogochan@linux.or.jp>

	* cobol/MCPMAIN.CBL: `BACK'のサポート(ただし未テスト)

	* libs/DDparser.c (DD_ParserDataDefines): cppの起動をここでやるよう
	にした。お陰でthread safeでなくなっているので注意

	* libs/LDparser.c (LD_Parser): こいつも同様

2000-12-04  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/value.c: number型(数字で構成される文字列)の追加

	* tools/copygen.c: 動作を整理した。cppを内部的に起動するようにした。
	コメントの文字を変更した。

	* tools/recdefgen.rb : 現在サポートしているウィジェットの全てに対応
	するようにした

2000-12-03  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c (RecvCombo): ComboBoxの入力域の名前を任意にし
	た(以前はentryに固定であった)
	
2000-12-02  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/pandaIO.c (PandaIO_Main): 画面データ送信されない場合があ
	ることの対処

2000-11-24  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/protocol.c (CheckScreens): 最初に送信されたウィンドウのみ
	を起動時に表示するようにした

2000-11-16  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/copygen.c : COBOL用COPY句生成系を作った

2000-11-13  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/driver.c : アプリケーションからはScreenDataを意識しないよ
	うにした(意味がないので)

2000-11-10  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/driver.c (LinkModule): 別のアプリケーションに切り替える手
	続きを作った

	* glclient/callbacks.c (map_event): データ受信は行わないようにした
	(思わぬタイミングで呼び出されて、データ通信の手順を狂わせるため)

	* glserver/main.c: いわゆるmain moduleをserver.cから分離した

	* glclient/callbacks.c: window_destroy実行中のchangedイベントの時には
	UpdateWidgetの実行を止めるようにした(gtkのbug？)

2000-11-08  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c : List, Clistの選択を処理可能にした

2000-11-06  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/protocol.c (SendWidgetData): データ送信処理もウィジェット
	毎の手続きにした

	* libs/value.c : int, boolの追加

2000-11-02  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/value.h: ValueStructに属性を付加

2000-10-31  Masami Ogoshi  <ogochan@linux.or.jp>

	* libs/value.h: ValueStructの構造を変更。RecordDataに名前のため
	のデータを保持するようにした。これによりデータの並び順に名前を見
	ることが可能になった

	* libs/value.c (GetItemLongName): 追加

2000-10-30  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/widgetOPS.c: 対応Widgetの種類が増えたのでprotocol.cから分離

2000-10-07  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/DDparser.c : データ構造を定義するための言語処理部

2000-08-09  Masami Ogoshi  <ogochan@linux.or.jp>

	* glserver/server.c (InitServerPort): 通信用FILE構造体を一つにした。
	単なるタコな勘違いから必要だっただけなのさ。

2000-07-25  Masami Ogoshi  <ogochan@linux.or.jp>

	* tools/copygen.rb: COBOL用COPY句生成系を作った。

2000-07-01  Masami Ogoshi  <ogochan@linux.or.jp>

	* glclient/protocol.c (CheckScreen): 複数の窓が開くようにした。

2000-06-25  Masami Ogoshi  <ogochan@linux.or.jp>

	* server/applications.h: LARGE_DATAの使用をやめた。これで
	lib/block.cをつなぐ必要がなくなった。

2000-06-23  Masami Ogoshi  <ogochan@linux.or.jp>

	* initial version
