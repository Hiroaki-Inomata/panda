耐久試験用プログラム

目的: 
  panda で提供している全ての機能の耐久試験を行う。

1. 起動方法

(0) PostgreSQLの準備を行う

・portmasterが起動出来ること
・ORCAというデータベースが存在していること

    $ psql < adrs.create

  適当にデータを作っておく。

    $ psql ORCA
    ORCA=>insert into adrs values('ogochan1','070-xxxx-7514','ogochan');
    ORCA=>insert into adrs values('ogochan2','070-xxxx-7514','ogochan');
    ORCA=>insert into adrs values('ogochan3','070-xxxx-7514','ogochan');
    ORCA=>\q

注) Makefile、demo7.ld、directory、TPDEMO7.CBL を環境に合わせて設定し直すこと。

  Makefile	8行目
  demo7.ld	10行目
  directory	7,8,9行目
  TPDEMO7.CBL	377,389,401行目


(1) pandaをbuildする

        $ ./configure --with-opencobol --with-dotcobol --with-postgres --with-shell
        $ make

(2) 認証サーバを起動する

        $ cd ./glserver
        $  ./glauth &

        あらかじめ、gluseraddでパスワードファイルは作っておくこと

(3) アプリサーバを起動する

        $ cd ./sample4
        $ ../aps/aps -db ORCA demo7

        OpenCOBOLを使う場合には、アプリサーバを起動する前に、

        $ export COB_LIBRARY_PATH=.:../aps/.libs/

        のようにして、OpenCOBOLのdynamic loading pathを指定しておくこと

(4) WFCを起動する

        $ cd ./sample4
        $ ../wfc/wfc

        (3) (4)を一気に、

        $ ~/panda/tools/monitor -ApsPath ~/panda/aps/aps -WfcPath ~/panda/wfc/wfc

        のように起動することも出来ます

(5) glserverを起動する

        $ cd ./sample4
        $ ../glserver/glserver

(6) glclientを起動する

        $ ~/panda/glclient/glclient -user ユーザ名 -pass パスワード panda:demo7


2. 耐久試験用プログラムの内容

ここでは、耐久試験用プログラムの各ページ毎に解説しています。

(1) Gtk+Basic
  Entry、Combo、Text、CheckButton、RadioButton に各項目を入力し、
「決定」ボタンを押すと CList に入力した値が入ります。 また、
「TOGGLE」ボタンを押すことで CList に表示される内容が変わります。

  「画面遷移」ボタンを押すと、今表示している画面を消し、カレンダー
が表示されます。カレンダーの画面で「閉じる」ボタンを押すと、もとの
画面が表示されます。

(2) Gnome1 
  ORCA で使用していないため、処理はありません。

(3) Gnome2 
  ORCA で使用していないため、処理はありません。

(4) Gtk Calendar
  カレンダーで任意の日付をクリックすると、下の Entry に年、月、日
それぞれが表示されます。

(5) Gtk Panda
  Panda Entry、Number Entry、Panda Combo の各項目を入力し、「決定」
ボタンを押すと下の Panda CList に入力した内容が表示されます。

(6) DB
  --Search--

  入力欄に検索したい文字列を入力し「Search」ボタンを押すと、下の表に
DB の検索結果が表示されます。
  入力例) ogo%

  --Insert--

  「入力1、2、3」の各項目に入力し、「Insert」ボタンを押すと、入力した
内容が DB に挿入されます。

  --Delete--

  プルダウンメニューから項目を選び、「Delete」ボタンを押すと、選択した
DB の項目が削除されます。

  --Update--
 
  「入力1、2」に入力し、「Update」ボタンを押します。すると、「入力1」に
入力した値と同じ DB の項目を、「入力2」に入力した値で置き換えます。

  --Shell--

  「Shell」ボタンを押すと、「入力」項目に入力したファイルを表示します。

  --Batch--

  「Insert Batch」ボタンを押すと100件のデータを DB に挿入します。
  「Update Batch」ボタンを押すと「Insert Batch」で挿入されたデータを
更新します。
  「Delete Batch」ボタンを押すと「Insert Batch」で挿入されたデータを
DB から削除します。

